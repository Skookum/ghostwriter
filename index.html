<!DOCTYPE html>
<html>
<head>
  <title>Ghostwriter, by Skookum.com</title>
  <link href='css/main.css' media='all' rel='stylesheet' type='text/css' />
</head>

<body>
  
  <div id="wrap">
  
    <div id="drawing">
      <canvas id="artboard" width="750" height="500"></canvas>
      <canvas id="workboard" width="750" height="500"></canvas>
      
      <div id="pen" data-bind="visible: pen.visible, css: {down: pen.down}, style: {left: pen.left, top: pen.top, zIndex: pen.zIndex}">
        <div class="shadow" data-bind="style: {webkitTransform: pen.shadowTransform, MozTransform: pen.shadowTransform, msTransform: pen.shadowTransform, transform: pen.shadowTransform}"></div>
        <div class="brush" data-bind="style: {webkitTransform: pen.transform, MozTransform: pen.transform, msTransform: pen.transform, transform: pen.transform}"></div>
      </div>
      
      <div id="spraygun" data-bind="visible: spraygun.visible, css: {down: spraygun.down}, style: {left: spraygun.left, top: spraygun.top, zIndex: spraygun.zIndex}">
        <div class="shadow" data-bind="style: {webkitTransform: spraygun.shadowTransform, MozTransform: spraygun.shadowTransform, msTransform: spraygun.shadowTransform, transform: spraygun.shadowTransform}"></div>
        <div class="brush" data-bind="style: {webkitTransform: spraygun.transform, MozTransform: spraygun.transform, msTransform: spraygun.transform, transform: spraygun.transform}"></div>
      </div>
      
      <div id="marker" data-bind="visible: marker.visible, css: {down: marker.down}, style: {left: marker.left, top: marker.top, zIndex: marker.zIndex}">
        <div class="shadow" data-bind="style: {webkitTransform: marker.shadowTransform, MozTransform: marker.shadowTransform, msTransform: marker.shadowTransform, transform: marker.shadowTransform}"></div>
        <div class="brush" data-bind="style: {webkitTransform: marker.transform, MozTransform: marker.transform, msTransform: marker.transform, transform: marker.transform}"></div>
      </div>
    </div>
    
    <div id="sidebar">
      
      <div id="palette">
        <ul class="colors">
          <li class='color' data-color='169,21,61' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.red); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.red }"><div class="swatch"></div></li>
          <li class='color' data-color='255,249,181' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.green); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.green }"><div class="swatch"></div></li>
          <li class='color' data-color='184,180,98' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.blue); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.blue }"><div class="swatch"></div></li>
          <li class='color' data-color='148,158,45' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.black); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.black }"><div class="swatch"></div></li>
          <li class='color' data-color='0,105,105' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.white); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.white }"><div class="swatch"></div></li>
          <li class='color' data-color='112,161,133' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.white); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.white }"><div class="swatch"></div></li>
          <li class='color' data-color='0,0,0' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.black); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.black }"><div class="swatch"></div></li>
          <li class='color' data-color='255,255,255' data-bind="click: function() { ViewModel.palette.active(ViewModel.palette.colors.white); }, css: {active: ViewModel.palette.active() === ViewModel.palette.colors.white }"><div class="swatch"></div></li>
        </ul>
      </div>
      
      <div id="controls">
        <ul>
          <li><a id="clearbutton" data-bind="click: ViewModel.controls.clear" href='#'><span>Clear</span></a></li>
          <li><a id="playbutton" data-bind='css: {playing: ViewModel.drawing.playing}, click: ViewModel.controls.playback' href='#'><span>Playback</span></a></li>
        </ul>
      </div>
    </div>
    
    <div id="toolbox">
      <ul>
        <li id="marker_holder" data-bind="css: {invisible: ViewModel.marker.active}, click: function() { ViewModel.activebrush(ViewModel.marker); }"></li>
        <li id="spraygun_holder" data-bind="css: {invisible: ViewModel.spraygun.active}, click: function() { ViewModel.activebrush(ViewModel.spraygun); }"></li>
        <li id="pen_holder" data-bind="css: {invisible: ViewModel.pen.active}, click: function() { ViewModel.activebrush(ViewModel.pen); }"></li>
      </ul>
    </div>
    
    <div id="footer">
      <p>
        &copy; Skookum, Inc. 2011
      </p>
    </div>
  </div>
  
  <!-- JS Libraries -->
  
  <script src="js/lib/jquery-1.5.1.min.js"></script>
  <script src="js/lib/knockout-1.1.2.debug.js"></script>
  <script src="js/lib/amplify.min.js"></script>
  <script src="js/lib/procrastinate.js"></script>
  
  <!-- ViewModels -->
  
  <script src="js/viewmodels/mouse.js"></script>
  <script src="js/viewmodels/brush.js"></script>
  <script src="js/viewmodels/canvas.js"></script>
  <script src="js/viewmodels/palette.js"></script>
  <script src="js/viewmodels/controls.js"></script>
  <script src="js/viewmodels/drawing.js"></script>
  
  <!-- Brush Renderers -->
  
  <script src="js/renderers/water.js"></script>
  <script src="js/renderers/ink.js"></script>
  <script src="js/renderers/marker.js"></script>
  
  <!-- Main -->
  
  <script src="js/main.js"></script>
  
</body>
</html>